题目



如图所示网络。A在t=0时刻开始向C发送一个2Mbits的文件；B在t=0.1+e秒（e为无限趋近于0的小正实数）向D发送一个1Mbits的文件。忽略传播延迟和结点处理延迟。



请回答下列问题：

1) 如果图中网络采用存储-转发方式的报文交换，则A将2Mbits的文件交付给C需要多长时间？B将1Mbits的文件交付给D需要多长时间？

2) 如果图中网络采用存储-转发方式的分组交换，分组长度为等长的1kbits，且忽略分组头开销以及报文的拆装开销，则A将2Mbits的文件交付给C需要大约多长时间？B将1Mbits的文件交付给D需要大约多长时间？

3) 报文交换与分组交换相比，哪种交换方式更公平？（即传输数据量小用时少，传输数据量大用时长）

1. 报文交换时长计算

A->C  
其中报文大小M_1=2Mbits，链路带宽R_1、R_2、R_3分别为10Mbps，20Mbps，10Mbps

t_{AC} = M_1/R_1+M_1/R_2+M_1/R_3=0.5 秒

B->D  
因为A->C是早于B->D 发送，M_2=1Mbps，左侧路由处排队等候M_1/R_2的时间，因此发送时间为

t_{BD} = M_2/R_1+(M_1+M_2)/R_2+M_2/R_3 + e = 0.35 + e  秒

2. 分组交换时长计算

如课件中的时长计算公式：

T=M/R+nL/R, L = 1Kbit, n=2,R=10Mbps

分组交换是共享链路，不存在排队等候的问题，

t_{AC} = 2Mbits/10Mbps + 2*1000bit / 10Mbps = 0.2002 秒

t_{BD} = 1Mbits/10Mbps + 2*1000bit / 10Mbps = 0.1002 秒

3. 交换方式比较

如计算结果所示，分组交换两者时间更短。由于分组交换的共享链路的特性，对于B->D而言更加公平。
